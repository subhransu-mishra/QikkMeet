@import "tailwindcss";

@layer base {
  /* Set app-wide theme without forcing color on every element */
  html,
  body,
  #root {
    background-color: #000000;
    color: #ffffff;
  }

  /* remove the global wildcard color rule to avoid overriding button text */
  /* previously: * { color: white; } */

  input::placeholder {
    color: #9ca3af;
  }
}

/* Stream Chat overrides */
@layer components {
  /* Set dark background to match bg-primary across chat surfaces */
  .str-chat,
  .str-chat__theme-dark,
  .str-chat__channel,
  .str-chat__main-panel,
  .str-chat__message-list,
  .str-chat__window,
  .str-chat__list,
  .str-chat__date-separator,
  .str-chat__thread,
  .str-chat__virtual-message-list {
    background-color: #212121 !important; /* bg-primary */
  }

  /* Message input area background + subtle top border */
  .str-chat__message-input,
  .str-chat__message-input-flat,
  .str-chat__message-input--emojis {
    background-color: #212121 !important; /* bg-primary */
    border-top: 1px solid #3f3f3f;
  }

  /* Send button styles (rounded, #eff3f4 background, dark text) */
  .str-chat__message-input__send-button button,
  .str-chat__send-button,
  .str-chat__message-input__button--send,
  button[data-testid="send-button"],
  button[data-testid="message-input-send-button"] {
    background-color: #eff3f4 !important;
    color: #212121 !important; /* secondary-foreground */
    border-radius: 9999px !important; /* rounded-full */
    transition: filter 150ms ease;
  }

  .str-chat__message-input__send-button button:hover,
  .str-chat__send-button:hover,
  .str-chat__message-input__button--send:hover,
  button[data-testid="send-button"]:hover,
  button[data-testid="message-input-send-button"]:hover {
    filter: brightness(0.95);
  }

  /* Ensure send icon is dark on light button */
  .str-chat__message-input__send-button button svg,
  .str-chat__send-button svg,
  .str-chat__message-input__button--send svg,
  button[data-testid="send-button"] svg,
  button[data-testid="message-input-send-button"] svg {
    color: #212121 !important;
    fill: currentColor !important;
  }
}

/* Stream Video SDK overrides - Fix button visibility */
@layer components {
  /* Call controls container */
  .str-video__call-controls {
    background: rgba(33, 33, 33, 0.95) !important;
    backdrop-filter: blur(10px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding: 1.5rem !important;
  }

  /* All call control buttons */
  .str-video__call-controls__button,
  .str-video__composite-button,
  button[data-testid*="button"] {
    background: #eff3f4 !important;
    border: none !important;
    color: #212121 !important;
    width: 48px !important;
    height: 48px !important;
    border-radius: 50% !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .str-video__call-controls__button:hover,
  .str-video__composite-button:hover {
    background: #ffffff !important;
    transform: scale(1.05);
  }

  /* End call button - red theme */
  .str-video__call-controls__button[data-testid="hangup-button"],
  button[title*="Leave"],
  button[title*="leave"],
  button[title*="End"],
  .str-video__call-controls__button--leave {
    background: rgba(239, 68, 68, 0.9) !important;
    color: white !important;
  }

  .str-video__call-controls__button[data-testid="hangup-button"]:hover {
    background: rgba(220, 38, 38, 1) !important;
  }

  /* Icons inside buttons */
  .str-video__call-controls__button svg,
  .str-video__composite-button svg {
    color: #212121 !important;
    fill: #212121 !important;
  }

  /* Leave button icon should be white */
  .str-video__call-controls__button[data-testid="hangup-button"] svg,
  .str-video__call-controls__button--leave svg {
    color: white !important;
    fill: white !important;
  }

  /* Speaker layout background */
  .str-video__speaker-layout {
    background: #1a1a1a !important;
  }

  /* Participant video tiles */
  .str-video__participant-view {
    border-radius: 12px !important;
    overflow: hidden !important;
    border: 2px solid #eff3f4 !important;
  }

  /* Participant name label */
  .str-video__participant-details {
    background: rgba(33, 33, 33, 0.8) !important;
    backdrop-filter: blur(10px);
    border-radius: 8px !important;
    padding: 6px 12px !important;
  }

  /* Video placeholder when camera is off */
  .str-video__video-placeholder {
    background: #2a2a2a !important;
  }

  /* Active speaker indicator */
  .str-video__participant-view--active-speaker {
    border-color: #eff3f4 !important;
    box-shadow: 0 0 0 3px rgba(239, 243, 244, 0.3) !important;
  }

  /* Modal backdrop animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .fixed.inset-0 {
    animation: fadeIn 0.2s ease-in-out;
  }
}
